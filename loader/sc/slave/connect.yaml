kind: SlaveConnect
store_import:
  enabled: true
  data:
    - key: "slaveList"
      bucket_id: "bucketForSlave"
      thread_only: true
      store_key: "slaveList"
      encrypt:
        enabled: true
        encrypt_id: encryptDynamicCBC
slaves:
{{- if .Values.slaveLists }}
{{- range slice .Values.slaveLists 0 .Values.SlaveCount }}
  - id: "{{ .uuid }}"
    uri: "ipv4:{{ .address }}:{{ .port }}" # support schema https://github.com/grpc/grpc/blob/master/doc/naming.md
    certificate:
      enabled: true
      ca_cert: "certs/ca.crt"
      server_name_override: "localhost"
      insecure_skip_verify: false
    encrypt:
    {{- range .encrypts }}
      enabled: "{{ .enabled }}"
      encrypt_id: "{{ .encrypt_id }}"
    {{- end }}
{{- end }}
{{- end }}

